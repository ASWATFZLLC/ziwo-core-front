{"version":3,"file":"ziwo-core-front.umd.js","sources":["../node_modules/md5-typescript/index.ts","../src/messages.ts","../src/authentication.service.ts","../src/rtc/media-channel.ts","../src/rtc/userMedia.ts","../src/events.ts","../src/rtc/json-rpc.params.ts","../src/rtc/call.ts","../src/rtc/json-rpc.interfaces.ts","../src/rtc/json-rpc.parser.ts","../src/rtc/json-rpc.base.ts","../src/rtc/json-rpc.ts","../src/rtc/rtc-client.base.ts","../src/rtc/rtc-client.handlers.ts","../src/regex.ts","../src/rtc/rtc-client.ts","../src/api.service.ts","../src/main.ts"],"sourcesContent":["export class Md5 {\n\n    private static _string: string;\n    private static x: Array<number> = <Array<number>>Array();\n    private static k: number;\n    private static AA: number;\n    private static BB: number;\n    private static CC: number;\n    private static DD: number;\n    private static a: number;\n    private static b: number;\n    private static c: number;\n    private static d: number;\n    private static S11: number = 7;\n    private static S12: number = 12;\n    private static S13: number = 17;\n    private static S14: number = 22;\n    private static S21: number = 5;\n    private static S22: number = 9;\n    private static S23: number = 14;\n    private static S24: number = 20;\n    private static S31: number = 4;\n    private static S32: number = 11;\n    private static S33: number = 16;\n    private static S34: number = 23;\n    private static S41: number = 6;\n    private static S42: number = 10;\n    private static S43: number = 15;\n    private static S44: number = 21;\n\n    private static RotateLeft: Function = ( lValue: number, iShiftBits: number ) : number => (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\n\n    private static AddUnsigned( lX: number, lY: number ) : number\n    {\n        let lX4: number,\n            lY4: number,\n            lX8: number,\n            lY8: number,\n            lResult: number;\n\n        lX8 = (lX & 0x80000000);\n        lY8 = (lY & 0x80000000);\n        lX4 = (lX & 0x40000000);\n        lY4 = (lY & 0x40000000);\n        lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n\n        if ( !!(lX4 & lY4) )\n        {\n            return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n        }\n\n        if ( !!(lX4 | lY4) )\n        {\n            if ( !!(lResult & 0x40000000) )\n            {\n                return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n            }\n            else\n            {\n                return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n            }\n        }\n        else\n        {\n            return (lResult ^ lX8 ^ lY8);\n        }\n    }\n\n    private static F: Function = ( x: number, y: number, z: number ) : number => (x & y) | ((~x) & z);\n\n    private static G: Function = ( x: number, y: number, z: number ) : number => (x & z) | (y & (~z));\n\n    private static H: Function = ( x: number, y: number, z: number ) : number => (x ^ y ^ z);\n\n    private static I: Function = ( x: number, y: number, z: number ) : number => (y ^ (x | (~z)));\n\n    private static FF( a: number, b: number, c: number, d: number, x: number, s: number, ac: number ) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.F(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static GG( a: number, b: number, c: number, d: number, x: number, s: number, ac: number) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.G(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static HH( a: number, b: number, c: number, d: number, x: number, s: number, ac: number ) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.H(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static II(a: number, b: number, c: number, d: number, x: number, s: number, ac: number) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.I(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static ConvertToWordArray( string: string ) : Array<number>\n    {\n        let lWordCount: number,\n            lMessageLength: number = string.length,\n            lNumberOfWords_temp1: number = lMessageLength + 8,\n            lNumberOfWords_temp2: number = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64,\n            lNumberOfWords: number = (lNumberOfWords_temp2 + 1) * 16,\n            lWordArray: Array<number> = Array(lNumberOfWords - 1),\n            lBytePosition: number = 0,\n            lByteCount: number = 0;\n\n        while ( lByteCount < lMessageLength )\n        {\n            lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n            lBytePosition = (lByteCount % 4) * 8;\n            lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));\n            lByteCount++;\n        }\n\n        lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n        lBytePosition = (lByteCount % 4) * 8;\n        lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\n        lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n        lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n\n        return lWordArray;\n    }\n\n    private static WordToHex( lValue: number ) : string\n    {\n        let WordToHexValue: string = \"\",\n            WordToHexValue_temp: string = \"\",\n            lByte: number,\n            lCount: number;\n\n        for ( lCount = 0; lCount <= 3; lCount++ )\n        {\n            lByte = (lValue >>> (lCount * 8)) & 255;\n            WordToHexValue_temp = \"0\" + lByte.toString(16);\n            WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);\n        }\n\n        return WordToHexValue;\n    }\n\n    private static Utf8Encode( string: string ) : string\n    {\n        let utftext: string = \"\",\n            c: number;\n\n        string = string.replace(/\\r\\n/g, \"\\n\");\n\n        for ( let n = 0; n < string.length; n++ )\n        {\n            c = string.charCodeAt(n);\n\n            if ( c < 128 )\n            {\n                utftext += String.fromCharCode(c);\n            }\n            else if ( (c > 127) && (c < 2048) )\n            {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else\n            {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n\n        }\n\n        return utftext;\n    }\n\n    public static init( string: any ) : string\n    {\n        let temp: string;\n\n        if ( typeof string !== 'string' )\n            string = JSON.stringify(string);\n\n        this._string = this.Utf8Encode(string);\n        this.x = this.ConvertToWordArray(this._string);\n\n        this.a = 0x67452301;\n        this.b = 0xEFCDAB89;\n        this.c = 0x98BADCFE;\n        this.d = 0x10325476;\n\n        for ( this.k = 0; this.k < this.x.length; this.k += 16 )\n        {\n            this.AA = this.a;\n            this.BB = this.b;\n            this.CC = this.c;\n            this.DD = this.d;\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k], this.S11, 0xD76AA478);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 1], this.S12, 0xE8C7B756);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 2], this.S13, 0x242070DB);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 3], this.S14, 0xC1BDCEEE);\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k + 4], this.S11, 0xF57C0FAF);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 5], this.S12, 0x4787C62A);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 6], this.S13, 0xA8304613);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 7], this.S14, 0xFD469501);\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k + 8], this.S11, 0x698098D8);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 9], this.S12, 0x8B44F7AF);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 10], this.S13, 0xFFFF5BB1);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 11], this.S14, 0x895CD7BE);\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k + 12], this.S11, 0x6B901122);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 13], this.S12, 0xFD987193);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 14], this.S13, 0xA679438E);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 15], this.S14, 0x49B40821);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 1], this.S21, 0xF61E2562);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 6], this.S22, 0xC040B340);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 11], this.S23, 0x265E5A51);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k], this.S24, 0xE9B6C7AA);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 5], this.S21, 0xD62F105D);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 10], this.S22, 0x2441453);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 15], this.S23, 0xD8A1E681);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k + 4], this.S24, 0xE7D3FBC8);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 9], this.S21, 0x21E1CDE6);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 14], this.S22, 0xC33707D6);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 3], this.S23, 0xF4D50D87);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k + 8], this.S24, 0x455A14ED);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 13], this.S21, 0xA9E3E905);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 2], this.S22, 0xFCEFA3F8);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 7], this.S23, 0x676F02D9);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k + 12], this.S24, 0x8D2A4C8A);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 5], this.S31, 0xFFFA3942);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k + 8], this.S32, 0x8771F681);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 11], this.S33, 0x6D9D6122);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 14], this.S34, 0xFDE5380C);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 1], this.S31, 0xA4BEEA44);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k + 4], this.S32, 0x4BDECFA9);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 7], this.S33, 0xF6BB4B60);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 10], this.S34, 0xBEBFBC70);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 13], this.S31, 0x289B7EC6);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k], this.S32, 0xEAA127FA);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 3], this.S33, 0xD4EF3085);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 6], this.S34, 0x4881D05);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 9], this.S31, 0xD9D4D039);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k + 12], this.S32, 0xE6DB99E5);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 15], this.S33, 0x1FA27CF8);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 2], this.S34, 0xC4AC5665);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k], this.S41, 0xF4292244);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 7], this.S42, 0x432AFF97);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 14], this.S43, 0xAB9423A7);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 5], this.S44, 0xFC93A039);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k + 12], this.S41, 0x655B59C3);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 3], this.S42, 0x8F0CCC92);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 10], this.S43, 0xFFEFF47D);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 1], this.S44, 0x85845DD1);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k + 8], this.S41, 0x6FA87E4F);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 15], this.S42, 0xFE2CE6E0);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 6], this.S43, 0xA3014314);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 13], this.S44, 0x4E0811A1);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k + 4], this.S41, 0xF7537E82);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 11], this.S42, 0xBD3AF235);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 2], this.S43, 0x2AD7D2BB);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 9], this.S44, 0xEB86D391);\n\n            this.a = this.AddUnsigned(this.a, this.AA);\n            this.b = this.AddUnsigned(this.b, this.BB);\n            this.c = this.AddUnsigned(this.c, this.CC);\n            this.d = this.AddUnsigned(this.d, this.DD);\n        }\n\n        temp = this.WordToHex(this.a) + this.WordToHex(this.b) + this.WordToHex(this.c) + this.WordToHex(this.d);\n        return temp.toLowerCase();\n    }\n}","const MESSAGE_PREFIX = '[LIB Ziwo-core-front] ';\n\nexport const MESSAGES = {\n  EMAIL_PASSWORD_AUTHTOKEN_MISSING: `${MESSAGE_PREFIX}Email or password are missing and no authentication token were provided.`,\n  INVALID_PHONE_NUMBER: (phoneNumber:string) => `${phoneNumber} is not a valid phone number`,\n  AGENT_NOT_CONNECTED: (action:string) => `Agent is not connected. Cannot proceed '${action}'`,\n};\n","import {Md5} from \"md5-typescript\";\nimport {ApiService} from './api.service';\nimport {MESSAGES} from './messages';\n\n/**\n * Credential provided by Ziwo\n * @email is the agent's email\n * @password is the agent's password\n */\nexport interface Credentials {\n  /**\n   * @email is the agent email\n   * If not provided, please provide @authenticationToken\n   */\n  email:string;\n\n  /**\n   * @email is the agent password\n   * If not provided, please provide @authenticationToken\n   */\n  password:string;\n\n  /**\n   * @authenticationToken is the token provided by the /login API\n   * If not provided, please provide @authenticationToken\n   */\n  authenticationToken?:string;\n}\n\nenum UserStatus {\n  Active = 'active',\n}\n\nenum UserType {\n  Admin = 'admin',\n}\n\nenum UserProfileType {\n  User = 'users'\n}\n\nexport interface User {\n  id:number;\n  firstName:string;\n  lastName:string;\n  username:string;\n  status:UserStatus;\n  type:UserType;\n  photo:string;\n  roleId:number;\n  lastLoginAt:string;\n  contactNumber:null|string;\n  createdAt:string;\n  updatedAt:string;\n  access_token:string;\n  profileType:UserProfileType;\n  role:any;\n  roles:any;\n}\n\ninterface UserInfo extends User {\n  ccLogin:number;\n  ccPassword:number;\n  liveInfo:any;\n  liveCalls:any[];\n  wrapUpTime:number;\n  noAnswerDelayTime:any;\n  noAnswerTimeout:any;\n  roamingContactNumber:string;\n  roamingTimeout:number;\n}\n\ninterface Queue {\n  announcementType:string;\n  callerIDNumber:any|null;\n  ​createdAt:string;\n  ​deletedAt:string|null;\n  ​id:number;\n  ​image:string|null;\n  ​language:string;\n  ​maxWaitTime:number;\n  ​moh:string;\n  ​name:string;\n  ​nonWorkingHoursDID:string;\n  ​priority:number;\n  ​status:string;\n  ​strategyType:string;\n  ​surveyRequired:boolean;\n  ​timeslots:string;\n  ​updatedAt:string;\n  ​urgentMessage:any|null;\n  ​waitTimeoutDID:string;\n}\n\ninterface Number {\n  beyondTimeslotsLinkData:any|null;\n  ​​beyondTimeslotsLinkType:any|null;\n  ​​createdAt:string;\n  ​​deletedAt:any|null;\n  ​​did:string;\n  ​​didCalled:string;\n  ​​didDisplay:string;\n  ​​id:number;\n  ​​linkData:string;\n  ​​linkType:string;\n  ​​status:string;\n  ​​length:number;\n  ​​timeslots:any[];\n  ​​updatedAt:string;\n  ​​urgentMessage:any|null;\n}\n\ninterface WebRtcInfo {\n  socket:string;\n}\n\nexport interface AgentPosition {\n  name:string;\n  password:string;\n  hostname:string;\n}\n\nexport interface AgentInfo {\n  userInfo:UserInfo;\n  queues:Queue[];\n  numbers:Number[];\n  webRtc:WebRtcInfo;\n  position:AgentPosition;\n}\n\n\nexport class AuthenticationService {\n\n  constructor() {}\n\n  public static authenticate(api:ApiService, credentials:Credentials):Promise<AgentInfo> {\n    if (credentials.authenticationToken) {\n      api.setToken(credentials.authenticationToken);\n      return new Promise<any>((onRes, onErr) => {\n        this.initAgent(api).then(res => onRes(res)).catch(err => onErr(err));\n      });\n    }\n    if (!credentials.email || !credentials.password) {\n      throw new Error(MESSAGES.EMAIL_PASSWORD_AUTHTOKEN_MISSING);\n    }\n    return new Promise<any>((onRes, onErr) => {\n      this.loginZiwo(api, credentials.email, credentials.password).then(() => {\n        this.initAgent(api).then(res => onRes(res)).catch(err => onErr(err));\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static loginZiwo(api:ApiService, email:string, password:string):Promise<User> {\n    return new Promise<User>((onRes, onErr) => {\n      api.post<User>(api.endpoints.authenticate, {\n        username: email,\n        password: password,\n      }).then(r => {\n        api.setToken(r.content.access_token);\n        onRes(r.content);\n      }).catch(e => {\n        onErr(e);\n      });\n    });\n  }\n\n  private static initAgent(api:ApiService):Promise<AgentInfo> {\n    return new Promise<AgentInfo>((onRes, onErr) => {\n      Promise.all([\n        this.fetchAgentProfile(api),\n        this.fetchListQueues(api),\n        this.fetchListNumbers(api),\n        this.fetchWebRTCConfig(api),\n      ]).then(res => {\n        onRes({\n          userInfo: res[0],\n          queues: res[1] || [],\n          numbers: res[2] || [],\n          webRtc: {\n            socket: `${res[3].webSocket.protocol}://${api.getHostname()}:${res[3].webSocket.port}`,\n          },\n          position: {\n            name: `agent-${res[0].ccLogin}`,\n            password: Md5.init(`${res[0].ccLogin}${res[0].ccPassword}`).toString(),\n            hostname: api.getHostname(),\n          }\n        });\n      })\n      .catch(err => onErr(err));\n    });\n  }\n\n  private static fetchAgentProfile(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get(api.endpoints.profile).then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static fetchListQueues(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get('/agents/channels/calls/listQueues').then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static fetchListNumbers(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get('/agents/channels/calls/listNumbers').then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static fetchWebRTCConfig(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get('/fs/webrtc/config').then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n}\n","\ninterface MicrophoneData {\n  filterNode:BiquadFilterNode;\n  gainNode:GainNode;\n  source:MediaStreamAudioSourceNode;\n}\n\nexport interface VideoInfo {\n  selfTag:HTMLMediaElement;\n  peerTag:HTMLMediaElement;\n}\n\nexport class MediaChannel {\n\n  public readonly stream:any;\n  public remoteStream:any;\n\n  private microphone?:MicrophoneData;\n\n  private readonly audioContext:AudioContext;\n\n  constructor(stream:any) {\n    this.stream = stream;\n    this.audioContext = this.getAudioContext();\n  }\n\n  public startMicrophone():void {\n    // see https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#BiquadFilterNode-section\n    const filterNode = this.audioContext.createBiquadFilter();\n    filterNode.type = 'highpass';\n    // cutoff frequency: for highpass, audio is attenuated below this frequency\n    filterNode.frequency.value = 10000;\n\n    // create a gain node (to change audio volume)\n    const gainNode = this.audioContext.createGain();\n    // default is 1 (no change); less than 1 means audio is attenuated and vice versa\n    gainNode.gain.value = 0.5;\n\n    const source = this.audioContext.createMediaStreamSource(this.stream);\n\n    this.microphone = {\n      filterNode,\n      gainNode,\n      source,\n    };\n  }\n\n  public bindVideo(el:any):void {\n    el.srcObject = this.stream;\n  }\n\n  private getAudioContext():AudioContext {\n    let audioContext;\n    if (typeof AudioContext === 'function') {\n      audioContext = new AudioContext();\n    } else {\n      throw new Error('Web audio not supported');\n    }\n    return audioContext;\n  }\n\n}\n","import {MediaChannel} from './media-channel';\n\nexport interface MediaRequested {\n  audio?:boolean;\n  video?:{\n    selfTag:Element;\n    peerTag:Element;\n  };\n}\n\nexport class UserMedia {\n\n  public static getUserMedia(mediaRequested:UserMedia):Promise<MediaChannel> {\n    return new Promise<MediaChannel>((onRes, onErr) => {\n      try {\n        navigator.mediaDevices.getUserMedia(mediaRequested).then((stream) => {\n          onRes(new MediaChannel(stream));\n        });\n      } catch (e) {\n        onErr(e);\n      }\n    });\n  }\n\n}\n","\n/**\n * TODO : documentation\n * TODO : define interface for each available type?\n * TODO : define all event type\n */\n\nexport enum ErrorCode {\n  InvalidPhoneNumber = 2,\n  UserMediaError = 3,\n  AgentNotConnected = 1,\n  ProtocolError = 4,\n}\n\nexport interface ErrorData {\n  code:ErrorCode;\n  message:string;\n  data?:any;\n}\n\nexport enum ZiwoEventType {\n  Error = 'Error',\n  AgentConnected = 'AgentConnected',\n  IncomingCall = 'IncomingCall',\n  OutgoingCall = 'OutgoingCall',\n  CallStarted = 'CallStarted',\n  CallEndedByUser = 'CallEndedByUser',\n  CallEndedByPeer = 'CallEndedByPeer',\n}\n\nexport class ZiwoEvent {\n\n  public static listeners:Function[] = [];\n\n  public static subscribe(func:Function):void {\n    this.listeners.push(func);\n  }\n\n  public static emit(type:ZiwoEventType, data?:any):void {\n    this.listeners.forEach(x => x(type, data));\n  }\n}\n","export enum JsonRpcMethod {\n  login = 'login',\n  invite = 'verto.invite',\n}\n\nexport enum JsonRpcActionId {\n  login = 3,\n  invite = 4,\n}\n\nexport interface JsonRpcRequest<T> {\n  jsonrpc:'2.0';\n  method:JsonRpcMethod;\n  id:number;\n  params:T;\n}\n\nexport class JsonRpcParams {\n\n  public static wrapParams(method:string, id:number = 0, params:any = {}):JsonRpcRequest<any> {\n    return {\n      jsonrpc: '2.0',\n      method: method as JsonRpcMethod,\n      id: id,\n      params: params,\n    };\n  }\n\n  public static loginParams(sessid:string, login:string, passwd:string):JsonRpcRequest<any> {\n    return this.wrapParams(JsonRpcMethod.login, 3, {\n      sessid,\n      login,\n      passwd\n    });\n  }\n\n  public static startCall(sessionId:string|undefined, callId:string, login:string, phoneNumber:string, sdp:string):JsonRpcRequest<any> {\n    return this.wrapParams(JsonRpcMethod.invite, 4, {\n        sdp: sdp,\n        sessid: sessionId,\n        dialogParams: {\n          callID: callId,\n          caller_id_name: '',\n          caller_id_number: '',\n          dedEnc: false,\n          destination_number: phoneNumber,\n          incomingBandwidth: 'default',\n          localTag: null,\n          login: login,\n          outgoingBandwidth: 'default',\n          remote_caller_id_name: 'Outbound Call',\n          remote_caller_id_number: phoneNumber,\n          screenShare: false,\n          tag: this.getUuid(),\n          useCamera: false,\n          useMic: true,\n          useSpeak: true,\n          useStereo: true,\n          useVideo: undefined,\n          videoParams: {},\n          audioParams: {\n            googAutoGainControl: false,\n            googNoiseSuppression: false,\n            googHighpassFilter: false\n          },\n        }\n    });\n  }\n\n\n\n  public static getUuid():string {\n    /* tslint:disable */\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      const r = Math.random() * 16 | 0,\n      v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    /* tslint:enable */\n    });\n  }\n\n}\n","import {MediaChannel} from './media-channel';\n\n/**\n * Call holds a call information and provide helpers\n */\nexport class Call {\n\n  public readonly callId:string;\n  public readonly rtcPeerConnection:RTCPeerConnection;\n  public readonly channel:MediaChannel;\n\n  constructor(callId:string, rtcPeerConnection:RTCPeerConnection, channel:MediaChannel) {\n    this.callId = callId;\n    this.rtcPeerConnection = rtcPeerConnection;\n    this.channel = channel;\n  }\n\n  public answer():void {\n    console.warn('Answer not implemented');\n  }\n\n  public hangup():void {\n    console.warn('Hangup not implemented');\n  }\n\n  public mute():void {\n    console.warn('Mute not implemented');\n  }\n\n  public unmute():void {\n    console.warn('Unmute not implemented');\n  }\n\n  public hold():void {\n    console.warn('Hold not implemented');\n  }\n\n}\n","\nexport interface JsonRpcEvent {\n  type:JsonRpcEventType;\n  raw:any;\n  payload:any; // should be casted into appropriate Interface based on the type\n}\n\nexport enum JsonRpcEventType {\n  Unknown = 'Unknown',\n  LoggedIn = 'LoggedIn',\n  OutgoingCall = 'OutgoingCall',\n  MediaRequest = 'MediaRequest',\n}\n\nexport interface BasePayload {\n  sessid:string;\n}\n\nexport interface LoggedInPayload extends BasePayload { }\n\nexport interface OutgoingCallPayload extends BasePayload {\n  callID:string;\n  message:string;\n}\n\nexport interface MediaRequestPayload extends BasePayload {\n  callID:string;\n  sdp:string;\n}\n","import {JsonRpcEventType, JsonRpcEvent} from './json-rpc.interfaces';\nimport {JsonRpcActionId} from './json-rpc.params';\n\n/**\n * JsonRpcParser parse an incoming message and will target a specific element to determine its type.\n */\n\nexport class JsonRpcParser {\n\n  public static parse(data:any):JsonRpcEvent {\n    if (this.isLoggedIn(data)) {\n      return {\n        type: JsonRpcEventType.LoggedIn,\n        raw: data,\n        payload: data.params,\n      };\n    }\n    if (this.isOutgoingCall(data)) {\n      return {\n        type: JsonRpcEventType.OutgoingCall,\n        raw: data,\n        payload: data.result,\n      };\n    }\n    if (this.isMediaRequest(data)) {\n      return {\n        type: JsonRpcEventType.MediaRequest,\n        raw: data,\n        payload: data.params,\n      };\n    }\n    return {\n      type: JsonRpcEventType.Unknown,\n      raw: data,\n      payload: data\n    };\n  }\n\n  private static isLoggedIn(data:any):boolean {\n    return data.id === JsonRpcActionId.login;\n  }\n\n  private static isOutgoingCall(data:any):boolean {\n    return data.id === JsonRpcActionId.invite;\n  }\n\n  private static isMediaRequest(data:any):boolean {\n    return data.method === 'verto.media';\n  }\n\n}\n","import {AgentPosition} from '../authentication.service';\nimport {JsonRpcParser} from './json-rpc.parser';\nimport {ZiwoEvent, ZiwoEventType, ErrorCode} from '../events';\n\nexport class JsonRpcBase {\n\n  /**\n   * Our communication channel\n   */\n  protected socket?:WebSocket;\n\n  /**\n   * Session ID used with the current socket\n   */\n  protected sessid?:string;\n\n  /**\n   * Information about agent\n   */\n  protected position?:AgentPosition;\n\n  /**\n   * Callback functions - register using `addListener`\n   */\n  protected listeners:Function[] = [];\n\n\n  protected readonly debug:boolean;\n\n  constructor(debug?:boolean) {\n    this.debug = debug || false;\n  }\n\n  /**\n   * addListener allows to listener for incoming Socket Event\n   */\n  public addListener(call:Function):void {\n    this.listeners.push(call);\n  }\n\n  /**\n   * openSocket should be called directly after the constructor\n   * It initializate the socket and set the handlers\n   */\n  public openSocket(socketUrl:string):Promise<void> {\n    return new Promise<void>((onRes, onErr) => {\n      this.socket = new WebSocket(socketUrl);\n      this.socket.onclose = () => {\n        if (this.debug) {\n          console.warn('Socket closed');\n        }\n      };\n      this.socket.onopen = () => {\n        onRes();\n      };\n      this.socket.onmessage = (msg) => {\n        try {\n          const data = JSON.parse(msg.data);\n          if (!this.isJsonRpcValid) {\n            throw new Error('Invalid Incoming JSON RPC');\n          }\n          this.listeners.forEach(fn => fn(JsonRpcParser.parse(data)));\n        } catch (err) {\n          console.warn('Invalid Message', msg);\n          // NOTE : not sure if we should throw an error here -- need live testing to enable/disable\n          ZiwoEvent.emit(ZiwoEventType.Error, {\n            code: ErrorCode.ProtocolError,\n            message: err,\n          });\n        }\n      };\n    });\n  }\n\n\n  /**\n   * Send data to socket and log in case of debug\n   */\n  public send(data:any):void {\n    if (this.debug) {\n      console.log('Write message > ', data);\n    }\n    if (!this.socket) {\n      return;\n    }\n    this.socket.send(JSON.stringify(data));\n  }\n\n  /**\n   * Concat position to return the login used in Json RTC request\n   */\n  protected getLogin():string {\n    return `${this.position?.name}@${this.position?.hostname}`;\n  }\n\n  /**\n   * Validate the JSON RPC headersx\n   */\n  private isJsonRpcValid(data:any):boolean {\n    return typeof data === 'object'\n      && 'jsonrpc' in data\n      && data.jsonrpc === '2.0';\n  }\n\n}\n","import {AgentPosition} from '../authentication.service';\nimport {JsonRpcParams} from './json-rpc.params';\nimport {MediaChannel, VideoInfo} from './media-channel';\nimport {Call} from './call';\nimport {JsonRpcBase} from './json-rpc.base';\n\nexport enum ZiwoSocketEvent {\n  LoggedIn = 'LoggedIn',\n  CallCreated = 'CallCreated',\n}\n\n/**\n * JsonRpcClient implements Verto protocol using JSON RPC\n *\n * Usage:\n *  - const client = new JsonRpcClient(@debug); // Instantiate a new Json Rpc Client\n *  - client.openSocket(@socketUrl) // REQUIRED: Promise opening the web socket\n *      .then(() => {\n *        this.login() // REQUIRED: log the agent into the web socket\n *        // You can now proceed with any requests\n *      });\n *\n */\nexport class JsonRpcClient extends JsonRpcBase {\n\n  private readonly ICE_SERVER = 'stun:stun.l.google.com:19302';\n\n  constructor(debug?:boolean) {\n    super(debug);\n  }\n\n\n  /**\n   * Following functions send a request to the opened socket. They do not return the result of the request\n   * Instead, you should use `addListener` and use the Socket events to follow the status of the request.\n   */\n\n  /**\n   * login log the agent in the newly created socket\n   */\n  public login(agentPosition:AgentPosition):Promise<void> {\n    this.position = agentPosition;\n    return new Promise<void>((onRes, onErr) => {\n      if (!this.socket) {\n        return onErr();\n      }\n      this.sessid = JsonRpcParams.getUuid();\n      this.send(JsonRpcParams.loginParams(this.sessid, agentPosition.name, agentPosition.password));\n    });\n  }\n\n  /**\n   * send a start call request\n   */\n  public startCall(phoneNumber:string, callId:string, channel:MediaChannel, tags:VideoInfo):Call {\n    if (!channel.stream) {\n      throw new Error('Error in User Media');\n    }\n\n    // Create Call and its PeerConnection\n    const call = new Call(callId, new RTCPeerConnection({\n      iceServers: [{urls: this.ICE_SERVER}],\n    }), channel);\n\n    call.rtcPeerConnection.ontrack = (tr) => {\n      const track = tr.track;\n      if (track.kind !== 'audio') {\n        return;\n      }\n      const stream = new MediaStream();\n      stream.addTrack(track);\n      channel.remoteStream = stream;\n      tags.peerTag.srcObject = stream;\n    };\n\n    // Attach our media stream to the call's PeerConnection\n    channel.stream.getTracks().forEach((track:any) => {\n      call.rtcPeerConnection.addTrack(track);\n    });\n\n    // We wait for candidate to be null to make sure all candidates have been processed\n    call.rtcPeerConnection.onicecandidate = (candidate) => {\n      if (!candidate.candidate) {\n        this.send(JsonRpcParams.startCall(\n          this.sessid,\n          call.callId,\n          this.getLogin(),\n          phoneNumber,\n          call.rtcPeerConnection.localDescription?.sdp as string)\n        );\n      }\n    };\n\n    call.rtcPeerConnection.createOffer().then(offer => {\n      call.rtcPeerConnection.setLocalDescription(offer).then(() => {});\n    });\n\n    return call;\n  }\n\n}\n","import {AgentInfo} from '../authentication.service';\nimport {MediaChannel, VideoInfo} from './media-channel';\nimport {JsonRpcClient} from './json-rpc';\nimport {Call} from './call';\nimport {ZiwoEventType, ZiwoEvent, ErrorCode} from '../events';\nimport {MESSAGES} from '../messages';\n\n/**\n * RtcClientBase handles authentication and holds core properties\n */\nexport class RtcClientBase {\n\n  public connectedAgent?:AgentInfo;\n  public channel?:MediaChannel;\n  public tags:VideoInfo;\n  public jsonRpcClient?:JsonRpcClient;\n  public currentCall?:Call;\n  public calls:Call[] = [];\n  protected readonly debug:boolean;\n\n  constructor(tags:VideoInfo, debug?:boolean) {\n    this.debug = debug || false;\n    this.tags = tags;\n  }\n\n  /**\n   * Get connected Agent returns the Info of the current agent\n   */\n  public getConnectedAgent():AgentInfo|undefined {\n    return this.connectedAgent;\n  }\n\n  /**\n   * Return true if an agent is connected\n   */\n  public isAgentConnected():boolean {\n    return !! this.connectedAgent && !! this.channel;\n  }\n\n  protected sendNotConnectedEvent(action:string):void {\n    return ZiwoEvent.emit(ZiwoEventType.Error, {\n      code: ErrorCode.InvalidPhoneNumber,\n      message: MESSAGES.AGENT_NOT_CONNECTED(action),\n    });\n  }\n\n}\n","import {OutgoingCallPayload, MediaRequestPayload} from './json-rpc.interfaces';\nimport {VideoInfo} from './media-channel';\nimport {RtcClientBase} from './rtc-client.base';\n\nexport class RtcClientHandlers extends RtcClientBase {\n\n  constructor(tags:VideoInfo, debug?:boolean) {\n    super(tags, debug);\n  }\n\n  protected outgoingCall(data:OutgoingCallPayload):void {\n    if (this.currentCall) {\n      return console.warn('Outgoing Call - but there is already a call in progress');\n    }\n  }\n\n  protected acceptMediaRequest(data:MediaRequestPayload):void {\n    const call = this.calls.find(x => x.callId === data.callID);\n    if (!call) {\n      return ; // invalid call id?\n    }\n    call.rtcPeerConnection.setRemoteDescription(new RTCSessionDescription({type: 'answer', sdp: data.sdp}))\n      .then(() => console.log('Remote media connected'))\n      .catch(() => console.warn('fail to attach remote media'));\n    call.answer();\n  }\n\n}\n","\nexport const PATTERNS = {\n  phoneNumber: /^\\+?\\d+$/,\n};\n","import {AgentInfo} from '../authentication.service';\nimport {UserMedia} from './userMedia';\nimport {ZiwoEvent, ZiwoEventType, ErrorCode} from '../events';\nimport {VideoInfo} from './media-channel';\nimport {JsonRpcClient} from './json-rpc';\nimport {JsonRpcEvent, JsonRpcEventType,} from './json-rpc.interfaces';\nimport {RtcClientHandlers} from './rtc-client.handlers';\nimport {PATTERNS} from '../regex';\nimport {MESSAGES} from '../messages';\nimport {JsonRpcParams} from './json-rpc.params';\n\nexport interface MediaConstraint {\n  audio:boolean;\n  video:boolean;\n}\n\n/**\n * RtcClient wraps all interaction with WebRTC\n *\n * Inheritance:\n *  - RtcClientBase: shared properties, getter, setters & errors\n *  - RtcRequests: send new request (start call, answer call, ...)\n *  - RtcHandlers: handler incoming message (call received, outgoing call, ...)\n */\nexport class RtcClient extends RtcClientHandlers {\n\n  constructor(tags:VideoInfo, debug?:boolean) {\n    super(tags, debug);\n  }\n\n  /**\n   * Connect an agent using its Info\n   */\n  public connectAgent(agent:AgentInfo):Promise<void> {\n    return new Promise<void>((onRes, onErr) => {\n      this.connectedAgent = agent;\n      this.jsonRpcClient = new JsonRpcClient(this.debug);\n      // First we make ensure access to microphone &| camera\n      // And wait for the socket to open\n      Promise.all([\n        UserMedia.getUserMedia({audio: true, video: false}),\n        this.jsonRpcClient.openSocket(this.connectedAgent.webRtc.socket),\n      ]).then(res => {\n        this.channel = res[0];\n        this.jsonRpcClient?.addListener((ev:JsonRpcEvent) => {\n          if (ev.type === JsonRpcEventType.LoggedIn) {\n            ZiwoEvent.emit(ZiwoEventType.AgentConnected);\n            onRes();\n            return;\n          }\n          // This is our global handler for incoming message\n          this.processIncomingSocketMessage(ev);\n        });\n        this.jsonRpcClient?.login(agent.position);\n      }).catch(err => {\n        onErr(err);\n      });\n    });\n  }\n\n  public startCall(phoneNumber:string):void {\n    if (!this.isAgentConnected() || !this.channel || !this.jsonRpcClient) {\n      this.sendNotConnectedEvent('start call');\n      return;\n    }\n    if (!PATTERNS.phoneNumber.test(phoneNumber)) {\n      return ZiwoEvent.emit(ZiwoEventType.Error, {\n        code: ErrorCode.InvalidPhoneNumber,\n        message: MESSAGES.INVALID_PHONE_NUMBER(phoneNumber),\n        data: {\n          phoneNumber: phoneNumber,\n        }\n      });\n    }\n    this.channel?.startMicrophone();\n    this.calls.push(this.jsonRpcClient.startCall(phoneNumber, JsonRpcParams.getUuid(), this.channel, this.tags));\n  }\n\n\n  private processIncomingSocketMessage(ev:JsonRpcEvent):void {\n    if (this.debug) {\n      console.log('New incoming message', ev);\n    }\n    switch (ev.type) {\n      case JsonRpcEventType.OutgoingCall:\n        this.outgoingCall(ev.payload);\n        break;\n      case JsonRpcEventType.MediaRequest:\n        this.acceptMediaRequest(ev.payload);\n        break;\n    }\n  }\n\n}\n","\nexport interface ApiResult<T> {\n  result:boolean;\n  info:any;\n  content:T;\n}\n\nexport interface AsyncApiResult<T> extends Promise<ApiResult<T>> {}\n\n/**\n * ApiService wraps the axios to provide quick GET, POST, PUT and DELETE\n *\n * Usage:\n *\n *  const apiService = new ApiService('kalvad-poc'); // contact center name you want to connect to\n *  apiService.get<User>(apiService.endpoints.authenticate) ; // ApiService already defined the endpoints available on Ziwo API\n *    .then( (e) => console.log('User > ', e.data)); // Request object is available under `data`;\n */\nexport class ApiService {\n\n  public readonly endpoints:any;\n\n  private token?:string;\n  private readonly baseUrl:string;\n  private readonly contactCenterName:string;\n  private readonly API_PROTOCOL = 'https://';\n  private readonly API_PREFIX = '-api.aswat.co';\n\n  constructor(contactCenterName:string) {\n    this.contactCenterName = contactCenterName;\n    this.baseUrl = `${this.API_PROTOCOL}${contactCenterName}${this.API_PREFIX}`;\n    this.endpoints = {\n      authenticate: `/auth/login`,\n      profile: '/profile',\n    };\n  }\n\n  /**\n   * Return the hostname of current user\n   */\n  public getHostname():string {\n    return `${this.contactCenterName}${this.API_PREFIX}`;\n  }\n\n  /**\n   * Set Authorization token for further requests\n   */\n  public setToken(token:string):void {\n    this.token = token;\n  }\n\n  /**\n   * Execute a GET query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public get<T>(endpoint:string):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'GET');\n  }\n\n  /**\n   * Execute a POST query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public post<T>(endpoint:string, payload:any):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'POST', payload);\n  }\n\n  /**\n   * Execute a PUT query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public put<T>(endpoint:string, payload:any):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'PUT', payload);\n  }\n\n  /**\n   * Execute a DELETE query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public delete<T>(endpoint:string):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'DELETE');\n  }\n\n  private query<T>(endpoint:string, method:'GET'|'POST'|'PUT'|'DELETE', payload?:any):Promise<ApiResult<T>> {\n    return new Promise<ApiResult<T>>((onRes, onErr) => {\n      const fetchOptions:any = {\n        method: method,\n      };\n      if (payload) {\n        fetchOptions.body = JSON.stringify(payload);\n      }\n      window.fetch(`${this.baseUrl}${endpoint}`, {\n        method: method,\n        body: payload ? JSON.stringify(payload) : undefined,\n        headers: {\n          'Content-Type': 'application/json',\n          'access_token': `${this.token}`,\n        }\n      }).then(res => {\n        if (!res.ok) {\n          onErr(`Fetch error: ${res.statusText}`);\n          return;\n        }\n        onRes(res.json());\n      }).catch(err => onErr(err));\n    });\n  }\n\n}\n","import {Credentials, AuthenticationService, AgentInfo} from './authentication.service';\nimport {RtcClient} from './rtc/rtc-client';\nimport {ApiService} from './api.service';\nimport {ZiwoEvent, ZiwoEventType} from './events';\nimport {VideoInfo} from './rtc/media-channel';\n\n/**\n * ziwo-core-front provides a client for real time communication using WebRTC integrated with Ziwo\n */\n\nexport interface ZiwoClientOptions {\n  /**\n   * @contactCenterName is the contact center the agent is working for\n   */\n  contactCenterName:string;\n\n  /**\n   * see `authentication.ts#Credentials` for complete definition\n   * If `credentials` is not provided, please provide an Authentication Token\n   */\n  credentials:Credentials;\n\n  /**\n   * @autoConnect let you choose to connect the agent automatically or not.\n   * Default = true\n   * Error is raised if authentication fails. In case you want to handle failed authentication, run `connect` manually\n   */\n  autoConnect:boolean;\n\n  /**\n   *\n   */\n  tags:VideoInfo;\n\n  debug?:boolean;\n}\n\nexport class ZiwoClient {\n\n  public readonly options:ZiwoClientOptions;\n\n  private apiService:ApiService;\n  private rtcClient:RtcClient;\n\n  constructor(options:ZiwoClientOptions) {\n    this.options = options;\n    this.apiService = new ApiService(options.contactCenterName);\n    this.rtcClient = new RtcClient(options.tags, options.debug);\n    if (options.autoConnect) {\n      this.connect().then(r => {\n      }).catch(err => { throw err; });\n    }\n  }\n\n  public connect():Promise<AgentInfo> {\n    return new Promise<any>((onRes, onErr) => {\n      AuthenticationService.authenticate(this.apiService, this.options.credentials)\n        .then(res => {\n          this.rtcClient.connectAgent(res);\n          onRes(res);\n        }).catch(err => onErr(err));\n    });\n  }\n\n  public addListener(func:Function):void {\n    return ZiwoEvent.subscribe(func);\n  }\n\n  public startCall(phoneNumber:string):void {\n    this.rtcClient.startCall(phoneNumber);\n  }\n\n}\n"],"names":[],"mappings":"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F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBACvF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBACvF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;gBAC1F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBACvF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;gBAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAA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"}