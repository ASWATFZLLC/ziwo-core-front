{"version":3,"file":"ziwo-core-front.es5.js","sources":["../node_modules/md5-typescript/index.ts","../src/messages.ts","../src/authentication.service.ts","../src/rtc/channel.ts","../src/rtc/userMedia.ts","../src/events.ts","../src/rtc/json-rpc.interfaces.ts","../src/rtc/json-rpc.params.ts","../src/rtc/json-rpc.parser.ts","../src/rtc/json-rpc.base.ts","../src/rtc/call.ts","../src/rtc/json-rpc.requests.ts","../src/rtc/json-rpc.ts","../src/regex.ts","../src/rtc/rtc-client.base.ts","../src/rtc/rtc-client.requests.ts","../src/rtc/rtc-client.handlers.ts","../src/rtc/rtc-client.ts","../src/api.service.ts","../src/main.ts"],"sourcesContent":["export class Md5 {\n\n    private static _string: string;\n    private static x: Array<number> = <Array<number>>Array();\n    private static k: number;\n    private static AA: number;\n    private static BB: number;\n    private static CC: number;\n    private static DD: number;\n    private static a: number;\n    private static b: number;\n    private static c: number;\n    private static d: number;\n    private static S11: number = 7;\n    private static S12: number = 12;\n    private static S13: number = 17;\n    private static S14: number = 22;\n    private static S21: number = 5;\n    private static S22: number = 9;\n    private static S23: number = 14;\n    private static S24: number = 20;\n    private static S31: number = 4;\n    private static S32: number = 11;\n    private static S33: number = 16;\n    private static S34: number = 23;\n    private static S41: number = 6;\n    private static S42: number = 10;\n    private static S43: number = 15;\n    private static S44: number = 21;\n\n    private static RotateLeft: Function = ( lValue: number, iShiftBits: number ) : number => (lValue << iShiftBits) | (lValue >>> (32 - iShiftBits));\n\n    private static AddUnsigned( lX: number, lY: number ) : number\n    {\n        let lX4: number,\n            lY4: number,\n            lX8: number,\n            lY8: number,\n            lResult: number;\n\n        lX8 = (lX & 0x80000000);\n        lY8 = (lY & 0x80000000);\n        lX4 = (lX & 0x40000000);\n        lY4 = (lY & 0x40000000);\n        lResult = (lX & 0x3FFFFFFF) + (lY & 0x3FFFFFFF);\n\n        if ( !!(lX4 & lY4) )\n        {\n            return (lResult ^ 0x80000000 ^ lX8 ^ lY8);\n        }\n\n        if ( !!(lX4 | lY4) )\n        {\n            if ( !!(lResult & 0x40000000) )\n            {\n                return (lResult ^ 0xC0000000 ^ lX8 ^ lY8);\n            }\n            else\n            {\n                return (lResult ^ 0x40000000 ^ lX8 ^ lY8);\n            }\n        }\n        else\n        {\n            return (lResult ^ lX8 ^ lY8);\n        }\n    }\n\n    private static F: Function = ( x: number, y: number, z: number ) : number => (x & y) | ((~x) & z);\n\n    private static G: Function = ( x: number, y: number, z: number ) : number => (x & z) | (y & (~z));\n\n    private static H: Function = ( x: number, y: number, z: number ) : number => (x ^ y ^ z);\n\n    private static I: Function = ( x: number, y: number, z: number ) : number => (y ^ (x | (~z)));\n\n    private static FF( a: number, b: number, c: number, d: number, x: number, s: number, ac: number ) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.F(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static GG( a: number, b: number, c: number, d: number, x: number, s: number, ac: number) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.G(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static HH( a: number, b: number, c: number, d: number, x: number, s: number, ac: number ) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.H(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static II(a: number, b: number, c: number, d: number, x: number, s: number, ac: number) : number\n    {\n        a = this.AddUnsigned(a, this.AddUnsigned(this.AddUnsigned(this.I(b, c, d), x), ac));\n        return this.AddUnsigned(this.RotateLeft(a, s), b);\n    }\n\n    private static ConvertToWordArray( string: string ) : Array<number>\n    {\n        let lWordCount: number,\n            lMessageLength: number = string.length,\n            lNumberOfWords_temp1: number = lMessageLength + 8,\n            lNumberOfWords_temp2: number = (lNumberOfWords_temp1 - (lNumberOfWords_temp1 % 64)) / 64,\n            lNumberOfWords: number = (lNumberOfWords_temp2 + 1) * 16,\n            lWordArray: Array<number> = Array(lNumberOfWords - 1),\n            lBytePosition: number = 0,\n            lByteCount: number = 0;\n\n        while ( lByteCount < lMessageLength )\n        {\n            lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n            lBytePosition = (lByteCount % 4) * 8;\n            lWordArray[lWordCount] = (lWordArray[lWordCount] | (string.charCodeAt(lByteCount) << lBytePosition));\n            lByteCount++;\n        }\n\n        lWordCount = (lByteCount - (lByteCount % 4)) / 4;\n        lBytePosition = (lByteCount % 4) * 8;\n        lWordArray[lWordCount] = lWordArray[lWordCount] | (0x80 << lBytePosition);\n        lWordArray[lNumberOfWords - 2] = lMessageLength << 3;\n        lWordArray[lNumberOfWords - 1] = lMessageLength >>> 29;\n\n        return lWordArray;\n    }\n\n    private static WordToHex( lValue: number ) : string\n    {\n        let WordToHexValue: string = \"\",\n            WordToHexValue_temp: string = \"\",\n            lByte: number,\n            lCount: number;\n\n        for ( lCount = 0; lCount <= 3; lCount++ )\n        {\n            lByte = (lValue >>> (lCount * 8)) & 255;\n            WordToHexValue_temp = \"0\" + lByte.toString(16);\n            WordToHexValue = WordToHexValue + WordToHexValue_temp.substr(WordToHexValue_temp.length - 2, 2);\n        }\n\n        return WordToHexValue;\n    }\n\n    private static Utf8Encode( string: string ) : string\n    {\n        let utftext: string = \"\",\n            c: number;\n\n        string = string.replace(/\\r\\n/g, \"\\n\");\n\n        for ( let n = 0; n < string.length; n++ )\n        {\n            c = string.charCodeAt(n);\n\n            if ( c < 128 )\n            {\n                utftext += String.fromCharCode(c);\n            }\n            else if ( (c > 127) && (c < 2048) )\n            {\n                utftext += String.fromCharCode((c >> 6) | 192);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n            else\n            {\n                utftext += String.fromCharCode((c >> 12) | 224);\n                utftext += String.fromCharCode(((c >> 6) & 63) | 128);\n                utftext += String.fromCharCode((c & 63) | 128);\n            }\n\n        }\n\n        return utftext;\n    }\n\n    public static init( string: any ) : string\n    {\n        let temp: string;\n\n        if ( typeof string !== 'string' )\n            string = JSON.stringify(string);\n\n        this._string = this.Utf8Encode(string);\n        this.x = this.ConvertToWordArray(this._string);\n\n        this.a = 0x67452301;\n        this.b = 0xEFCDAB89;\n        this.c = 0x98BADCFE;\n        this.d = 0x10325476;\n\n        for ( this.k = 0; this.k < this.x.length; this.k += 16 )\n        {\n            this.AA = this.a;\n            this.BB = this.b;\n            this.CC = this.c;\n            this.DD = this.d;\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k], this.S11, 0xD76AA478);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 1], this.S12, 0xE8C7B756);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 2], this.S13, 0x242070DB);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 3], this.S14, 0xC1BDCEEE);\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k + 4], this.S11, 0xF57C0FAF);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 5], this.S12, 0x4787C62A);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 6], this.S13, 0xA8304613);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 7], this.S14, 0xFD469501);\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k + 8], this.S11, 0x698098D8);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 9], this.S12, 0x8B44F7AF);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 10], this.S13, 0xFFFF5BB1);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 11], this.S14, 0x895CD7BE);\n            this.a = this.FF(this.a, this.b, this.c, this.d, this.x[this.k + 12], this.S11, 0x6B901122);\n            this.d = this.FF(this.d, this.a, this.b, this.c, this.x[this.k + 13], this.S12, 0xFD987193);\n            this.c = this.FF(this.c, this.d, this.a, this.b, this.x[this.k + 14], this.S13, 0xA679438E);\n            this.b = this.FF(this.b, this.c, this.d, this.a, this.x[this.k + 15], this.S14, 0x49B40821);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 1], this.S21, 0xF61E2562);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 6], this.S22, 0xC040B340);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 11], this.S23, 0x265E5A51);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k], this.S24, 0xE9B6C7AA);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 5], this.S21, 0xD62F105D);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 10], this.S22, 0x2441453);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 15], this.S23, 0xD8A1E681);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k + 4], this.S24, 0xE7D3FBC8);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 9], this.S21, 0x21E1CDE6);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 14], this.S22, 0xC33707D6);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 3], this.S23, 0xF4D50D87);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k + 8], this.S24, 0x455A14ED);\n            this.a = this.GG(this.a, this.b, this.c, this.d, this.x[this.k + 13], this.S21, 0xA9E3E905);\n            this.d = this.GG(this.d, this.a, this.b, this.c, this.x[this.k + 2], this.S22, 0xFCEFA3F8);\n            this.c = this.GG(this.c, this.d, this.a, this.b, this.x[this.k + 7], this.S23, 0x676F02D9);\n            this.b = this.GG(this.b, this.c, this.d, this.a, this.x[this.k + 12], this.S24, 0x8D2A4C8A);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 5], this.S31, 0xFFFA3942);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k + 8], this.S32, 0x8771F681);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 11], this.S33, 0x6D9D6122);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 14], this.S34, 0xFDE5380C);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 1], this.S31, 0xA4BEEA44);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k + 4], this.S32, 0x4BDECFA9);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 7], this.S33, 0xF6BB4B60);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 10], this.S34, 0xBEBFBC70);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 13], this.S31, 0x289B7EC6);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k], this.S32, 0xEAA127FA);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 3], this.S33, 0xD4EF3085);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 6], this.S34, 0x4881D05);\n            this.a = this.HH(this.a, this.b, this.c, this.d, this.x[this.k + 9], this.S31, 0xD9D4D039);\n            this.d = this.HH(this.d, this.a, this.b, this.c, this.x[this.k + 12], this.S32, 0xE6DB99E5);\n            this.c = this.HH(this.c, this.d, this.a, this.b, this.x[this.k + 15], this.S33, 0x1FA27CF8);\n            this.b = this.HH(this.b, this.c, this.d, this.a, this.x[this.k + 2], this.S34, 0xC4AC5665);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k], this.S41, 0xF4292244);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 7], this.S42, 0x432AFF97);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 14], this.S43, 0xAB9423A7);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 5], this.S44, 0xFC93A039);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k + 12], this.S41, 0x655B59C3);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 3], this.S42, 0x8F0CCC92);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 10], this.S43, 0xFFEFF47D);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 1], this.S44, 0x85845DD1);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k + 8], this.S41, 0x6FA87E4F);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 15], this.S42, 0xFE2CE6E0);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 6], this.S43, 0xA3014314);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 13], this.S44, 0x4E0811A1);\n            this.a = this.II(this.a, this.b, this.c, this.d, this.x[this.k + 4], this.S41, 0xF7537E82);\n            this.d = this.II(this.d, this.a, this.b, this.c, this.x[this.k + 11], this.S42, 0xBD3AF235);\n            this.c = this.II(this.c, this.d, this.a, this.b, this.x[this.k + 2], this.S43, 0x2AD7D2BB);\n            this.b = this.II(this.b, this.c, this.d, this.a, this.x[this.k + 9], this.S44, 0xEB86D391);\n\n            this.a = this.AddUnsigned(this.a, this.AA);\n            this.b = this.AddUnsigned(this.b, this.BB);\n            this.c = this.AddUnsigned(this.c, this.CC);\n            this.d = this.AddUnsigned(this.d, this.DD);\n        }\n\n        temp = this.WordToHex(this.a) + this.WordToHex(this.b) + this.WordToHex(this.c) + this.WordToHex(this.d);\n        return temp.toLowerCase();\n    }\n}","const MESSAGE_PREFIX = '[LIB Ziwo-core-front] ';\n\nexport const MESSAGES = {\n  EMAIL_PASSWORD_AUTHTOKEN_MISSING: `${MESSAGE_PREFIX}Email or password are missing and no authentication token were provided.`,\n  INVALID_PHONE_NUMBER: (phoneNumber:string) => `${phoneNumber} is not a valid phone number`,\n  AGENT_NOT_CONNECTED: (action:string) => `Agent is not connected. Cannot proceed '${action}'`,\n};\n","import {Md5} from \"md5-typescript\";\nimport {ApiService} from './api.service';\nimport {MESSAGES} from './messages';\n\n/**\n * Credential provided by Ziwo\n * @email is the agent's email\n * @password is the agent's password\n */\nexport interface Credentials {\n  /**\n   * @email is the agent email\n   * If not provided, please provide @authenticationToken\n   */\n  email:string;\n\n  /**\n   * @email is the agent password\n   * If not provided, please provide @authenticationToken\n   */\n  password:string;\n\n  /**\n   * @authenticationToken is the token provided by the /login API\n   * If not provided, please provide @authenticationToken\n   */\n  authenticationToken?:string;\n}\n\nenum UserStatus {\n  Active = 'active',\n}\n\nenum UserType {\n  Admin = 'admin',\n}\n\nenum UserProfileType {\n  User = 'users'\n}\n\nexport interface User {\n  id:number;\n  firstName:string;\n  lastName:string;\n  username:string;\n  status:UserStatus;\n  type:UserType;\n  photo:string;\n  roleId:number;\n  lastLoginAt:string;\n  contactNumber:null|string;\n  createdAt:string;\n  updatedAt:string;\n  access_token:string;\n  profileType:UserProfileType;\n  role:any;\n  roles:any;\n}\n\ninterface UserInfo extends User {\n  ccLogin:number;\n  ccPassword:number;\n  liveInfo:any;\n  liveCalls:any[];\n  wrapUpTime:number;\n  noAnswerDelayTime:any;\n  noAnswerTimeout:any;\n  roamingContactNumber:string;\n  roamingTimeout:number;\n}\n\ninterface Queue {\n  announcementType:string;\n  callerIDNumber:any|null;\n  ​createdAt:string;\n  ​deletedAt:string|null;\n  ​id:number;\n  ​image:string|null;\n  ​language:string;\n  ​maxWaitTime:number;\n  ​moh:string;\n  ​name:string;\n  ​nonWorkingHoursDID:string;\n  ​priority:number;\n  ​status:string;\n  ​strategyType:string;\n  ​surveyRequired:boolean;\n  ​timeslots:string;\n  ​updatedAt:string;\n  ​urgentMessage:any|null;\n  ​waitTimeoutDID:string;\n}\n\ninterface Number {\n  beyondTimeslotsLinkData:any|null;\n  ​​beyondTimeslotsLinkType:any|null;\n  ​​createdAt:string;\n  ​​deletedAt:any|null;\n  ​​did:string;\n  ​​didCalled:string;\n  ​​didDisplay:string;\n  ​​id:number;\n  ​​linkData:string;\n  ​​linkType:string;\n  ​​status:string;\n  ​​length:number;\n  ​​timeslots:any[];\n  ​​updatedAt:string;\n  ​​urgentMessage:any|null;\n}\n\ninterface WebRtcInfo {\n  socket:string;\n}\n\nexport interface AgentPosition {\n  name:string;\n  password:string;\n  hostname:string;\n}\n\nexport interface AgentInfo {\n  userInfo:UserInfo;\n  queues:Queue[];\n  numbers:Number[];\n  webRtc:WebRtcInfo;\n  position:AgentPosition;\n}\n\n\nexport class AuthenticationService {\n\n  constructor() {}\n\n  public static authenticate(api:ApiService, credentials:Credentials):Promise<AgentInfo> {\n    if (credentials.authenticationToken) {\n      api.setToken(credentials.authenticationToken);\n      return new Promise<any>((onRes, onErr) => {\n        this.initAgent(api).then(res => onRes(res)).catch(err => onErr(err));\n      });\n    }\n    if (!credentials.email || !credentials.password) {\n      throw new Error(MESSAGES.EMAIL_PASSWORD_AUTHTOKEN_MISSING);\n    }\n    return new Promise<any>((onRes, onErr) => {\n      this.loginZiwo(api, credentials.email, credentials.password).then(() => {\n        this.initAgent(api).then(res => onRes(res)).catch(err => onErr(err));\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static loginZiwo(api:ApiService, email:string, password:string):Promise<User> {\n    return new Promise<User>((onRes, onErr) => {\n      api.post<User>(api.endpoints.authenticate, {\n        username: email,\n        password: password,\n      }).then(r => {\n        api.setToken(r.content.access_token);\n        onRes(r.content);\n      }).catch(e => {\n        onErr(e);\n      });\n    });\n  }\n\n  private static initAgent(api:ApiService):Promise<AgentInfo> {\n    return new Promise<AgentInfo>((onRes, onErr) => {\n      Promise.all([\n        this.fetchAgentProfile(api),\n        this.fetchListQueues(api),\n        this.fetchListNumbers(api),\n        this.fetchWebRTCConfig(api),\n      ]).then(res => {\n        onRes({\n          userInfo: res[0],\n          queues: res[1] || [],\n          numbers: res[2] || [],\n          webRtc: {\n            socket: `${res[3].webSocket.protocol}://${api.getHostname()}:${res[3].webSocket.port}`,\n          },\n          position: {\n            name: `agent-${res[0].ccLogin}`,\n            password: Md5.init(`${res[0].ccLogin}${res[0].ccPassword}`).toString(),\n            hostname: api.getHostname(),\n          }\n        });\n      })\n      .catch(err => onErr(err));\n    });\n  }\n\n  private static fetchAgentProfile(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get(api.endpoints.profile).then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static fetchListQueues(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get('/agents/channels/calls/listQueues').then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static fetchListNumbers(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get('/agents/channels/calls/listNumbers').then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n  private static fetchWebRTCConfig(api:ApiService):Promise<any> {\n    return new Promise<any>((onRes, onErr) => {\n      api.get('/fs/webrtc/config').then(res => {\n        onRes(res.content);\n      }).catch(err => onErr(err));\n    });\n  }\n\n}\n","\ninterface MicrophoneData {\n  filterNode:BiquadFilterNode;\n  gainNode:GainNode;\n  source:MediaStreamAudioSourceNode;\n}\n\nexport interface VideoInfo {\n  selfTag?:Element;\n  peerTag?:Element;\n}\n\nexport class Channel {\n\n  public readonly stream:any;\n\n  private microphone?:MicrophoneData;\n\n  private readonly audioContext:AudioContext;\n\n  constructor(stream:any) {\n    this.stream = stream;\n    this.audioContext = this.getAudioContext();\n  }\n\n  public startMicrophone():void {\n    // see https://dvcs.w3.org/hg/audio/raw-file/tip/webaudio/specification.html#BiquadFilterNode-section\n    const filterNode = this.audioContext.createBiquadFilter();\n    filterNode.type = 'highpass';\n    // cutoff frequency: for highpass, audio is attenuated below this frequency\n    filterNode.frequency.value = 10000;\n\n    // create a gain node (to change audio volume)\n    const gainNode = this.audioContext.createGain();\n    // default is 1 (no change); less than 1 means audio is attenuated and vice versa\n    gainNode.gain.value = 0.5;\n\n    const source = this.audioContext.createMediaStreamSource(this.stream);\n\n    this.microphone = {\n      filterNode,\n      gainNode,\n      source,\n    };\n  }\n\n  public bindVideo(el:any):void {\n    // if (!el.srcObject) {\n    //   // TODO : emit appropriate error message\n    //   console.log('error while linking video');\n    //   return;\n    // }\n    el.srcObject = this.stream;\n  }\n\n  private getAudioContext():AudioContext {\n    let audioContext;\n    if (typeof AudioContext === 'function') {\n      audioContext = new AudioContext();\n    } else {\n      throw new Error('Web audio not supported');\n    }\n    return audioContext;\n  }\n\n}\n","import {Channel} from './channel';\n\nexport interface MediaRequested {\n  audio?:boolean;\n  video?:{\n    selfTag:Element;\n    peerTag:Element;\n  };\n}\n\nexport class UserMedia {\n\n  public static getUserMedia(mediaRequested:UserMedia):Promise<Channel> {\n    return new Promise<Channel>((onRes, onErr) => {\n      try {\n        navigator.mediaDevices.getUserMedia(mediaRequested).then((stream) => {\n          onRes(new Channel(stream));\n        });\n      } catch (e) {\n        onErr(e);\n      }\n    });\n  }\n\n}\n","\n/**\n * TODO : documentation\n * TODO : define interface for each available type?\n * TODO : define all event type\n */\n\nexport enum ErrorCode {\n  InvalidPhoneNumber = 2,\n  UserMediaError = 3,\n  AgentNotConnected = 1,\n  ProtocolError = 4,\n}\n\nexport interface ErrorData {\n  code:ErrorCode;\n  message:string;\n  data?:any;\n}\n\nexport enum ZiwoEventType {\n  Error = 'Error',\n  AgentConnected = 'AgentConnected',\n  IncomingCall = 'IncomingCall',\n  OutgoingCall = 'OutgoingCall',\n  CallStarted = 'CallStarted',\n  CallEndedByUser = 'CallEndedByUser',\n  CallEndedByPeer = 'CallEndedByPeer',\n}\n\nexport class ZiwoEvent {\n\n  public static listeners:Function[] = [];\n\n  public static subscribe(func:Function):void {\n    this.listeners.push(func);\n  }\n\n  public static emit(type:ZiwoEventType, data?:any):void {\n    this.listeners.forEach(x => x(type, data));\n  }\n}\n","\nexport interface JsonRpcEvent {\n  type:JsonRpcEventType;\n  payload:any; // should be casted into appropriate Interface based on the type\n}\n\nexport enum JsonRpcEventType {\n  Unknown = 'Unknown',\n  LoggedIn = 'LoggedIn',\n  OutgoingCall = 'OutgoingCall',\n  MediaRequest = 'MediaRequest',\n}\n\nexport interface BasePayload {\n  sessid:string;\n}\n\nexport interface LoggedInPayload extends BasePayload { }\n\nexport interface OutgoingCallPayload extends BasePayload {\n  callID:string;\n  message:string;\n}\n\nexport interface MediaRequestPayload extends BasePayload {\n  callID:string;\n  sdp:string;\n}\n","export enum JsonRpcMethod {\n  login = 'login',\n  invite = 'verto.invite',\n}\n\nexport enum JsonRpcActionId {\n  login = 3,\n  invite = 4,\n}\n\nexport interface JsonRpcRequest<T> {\n  jsonrpc:'2.0';\n  method:JsonRpcMethod;\n  id:number;\n  params:T;\n}\n\nexport class JsonRpcParams {\n\n  public static wrapParams(method:string, id:number = 0, params:any = {}):JsonRpcRequest<any> {\n    return {\n      jsonrpc: '2.0',\n      method: method as JsonRpcMethod,\n      id: id,\n      params: params,\n    };\n  }\n\n  public static loginParams(sessid:string, login:string, passwd:string):JsonRpcRequest<any> {\n    return this.wrapParams(JsonRpcMethod.login, 3, {\n      sessid,\n      login,\n      passwd\n    });\n  }\n\n  public static startCall(sessionId:string|undefined, login:string, phoneNumber:string, sdp:string):JsonRpcRequest<any> {\n    return this.wrapParams(JsonRpcMethod.invite, 4, {\n        sdp: sdp,\n        sessid: sessionId,\n        dialogParams: {\n          callID: this.getUuid(),\n          caller_id_name: '',\n          caller_id_number: '',\n          dedEnc: false,\n          destination_number: phoneNumber,\n          incomingBandwidth: 'default',\n          localTag: null,\n          login: login,\n          outgoingBandwidth: 'default',\n          remote_caller_id_name: 'Outbound Call',\n          remote_caller_id_number: phoneNumber,\n          screenShare: false,\n          tag: this.getUuid(),\n          useCamera: false,\n          useMic: true,\n          useSpeak: true,\n          useStereo: true,\n          useVideo: undefined,\n          videoParams: {},\n          audioParams: {\n            googAutoGainControl: false,\n            googNoiseSuppression: false,\n            googHighpassFilter: false\n          },\n        }\n    });\n  }\n\n\n\n  public static getUuid():string {\n    /* tslint:disable */\n    return 'xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx'.replace(/[xy]/g, function(c) {\n      const r = Math.random() * 16 | 0,\n      v = c == 'x' ? r : (r & 0x3 | 0x8);\n      return v.toString(16);\n    /* tslint:enable */\n    });\n  }\n\n}\n","import {JsonRpcEventType, JsonRpcEvent} from './json-rpc.interfaces';\nimport {JsonRpcActionId} from './json-rpc.params';\n\n/**\n * JsonRpcParser parse an incoming message and will target a specific element to determine its type.\n */\n\nexport class JsonRpcParser {\n\n  public static parse(data:any):JsonRpcEvent {\n    if (this.isLoggedIn(data)) {\n      return {\n        type: JsonRpcEventType.LoggedIn,\n        payload: data.params,\n      };\n    }\n    if (this.isOutgoingCall(data)) {\n      return {\n        type: JsonRpcEventType.OutgoingCall,\n        payload: data.result,\n      };\n    }\n    if (this.isMediaRequest(data)) {\n      return {\n        type: JsonRpcEventType.MediaRequest,\n        payload: data.params,\n      };\n    }\n    return {\n      type: JsonRpcEventType.Unknown,\n      payload: data\n    };\n  }\n\n  private static isLoggedIn(data:any):boolean {\n    return data.id === JsonRpcActionId.login;\n  }\n\n  private static isOutgoingCall(data:any):boolean {\n    return data.id === JsonRpcActionId.invite;\n  }\n\n  private static isMediaRequest(data:any):boolean {\n    return data.method === 'verto.media';\n  }\n\n}\n","import {AgentPosition} from '../authentication.service';\nimport {JsonRpcParser} from './json-rpc.parser';\nimport {ZiwoEvent, ZiwoEventType, ErrorCode} from '../events';\n\nexport class JsonRpcBase {\n\n  /**\n   * Our communication channel\n   */\n  protected socket?:WebSocket;\n\n  /**\n   * Session ID used with the current socket\n   */\n  protected sessid?:string;\n\n  /**\n   * Information about agent\n   */\n  protected position?:AgentPosition;\n\n  /**\n   * Callback functions - register using `addListener`\n   */\n  protected listeners:Function[] = [];\n\n\n  protected readonly debug:boolean;\n\n  constructor(debug?:boolean) {\n    this.debug = debug || false;\n  }\n\n  /**\n   * addListener allows to listener for incoming Socket Event\n   */\n  public addListener(call:Function):void {\n    this.listeners.push(call);\n  }\n\n  /**\n   * openSocket should be called directly after the constructor\n   * It initializate the socket and set the handlers\n   */\n  public openSocket(socketUrl:string):Promise<void> {\n    return new Promise<void>((onRes, onErr) => {\n      this.socket = new WebSocket(socketUrl);\n      this.socket.onclose = () => {\n        if (this.debug) {\n          console.warn('Socket closed');\n        }\n      };\n      this.socket.onopen = () => {\n        onRes();\n      };\n      this.socket.onmessage = (msg) => {\n        try {\n          const data = JSON.parse(msg.data);\n          if (!this.isJsonRpcValid) {\n            throw new Error('Invalid Incoming JSON RPC');\n          }\n          this.listeners.forEach(fn => fn(JsonRpcParser.parse(data)));\n        } catch (err) {\n          console.warn('Invalid Message', msg);\n          // NOTE : not sure if we should throw an error here -- need live testing to enable/disable\n          ZiwoEvent.emit(ZiwoEventType.Error, {\n            code: ErrorCode.ProtocolError,\n            message: err,\n          });\n        }\n      };\n    });\n  }\n\n\n  /**\n   * Send data to socket and log in case of debug\n   */\n  public send(data:any):void {\n    if (this.debug) {\n      console.log('Write message > ', data);\n    }\n    if (!this.socket) {\n      return;\n    }\n    this.socket.send(JSON.stringify(data));\n  }\n\n  /**\n   * Concat position to return the login used in Json RTC request\n   */\n  protected getLogin():string {\n    return `${this.position?.name}@${this.position?.hostname}`;\n  }\n\n  /**\n   * Validate the JSON RPC headers\n   */\n  private isJsonRpcValid(data:any):boolean {\n    return typeof data === 'object'\n      && 'jsonrpc' in data\n      && data.jsonrpc === '2.0';\n  }\n\n}\n","\n/**\n * Call holds a call information and provide helpers\n */\nexport class Call {\n\n  public readonly callId:string;\n  public readonly rtcPeerConnection:RTCPeerConnection;\n\n  constructor(callId:string, rtcPeerConnection:RTCPeerConnection) {\n    this.callId = callId;\n    this.rtcPeerConnection = rtcPeerConnection;\n  }\n\n}\n","import {JsonRpcBase} from './json-rpc.base';\nimport {AgentPosition} from '../authentication.service';\nimport {JsonRpcParams} from './json-rpc.params';\nimport {Channel} from './channel';\nimport {Call} from './call';\n\nexport class JsonRpcRequests extends JsonRpcBase {\n\n  private readonly ICE_SERVER = 'stun:stun.l.google.com:19302';\n\n  constructor(debug?:boolean) {\n    super(debug);\n  }\n\n  /**\n   * Following functions send a request to the opened socket. They do not return the result of the request\n   * Instead, you should use `addListener` and use the Socket events to follow the status of the request.\n   */\n\n  /**\n   * login log the agent in the newly created socket\n   */\n  public login(agentPosition:AgentPosition):Promise<void> {\n    this.position = agentPosition;\n    return new Promise<void>((onRes, onErr) => {\n      if (!this.socket) {\n        return onErr();\n      }\n      this.sessid = JsonRpcParams.getUuid();\n      this.send(JsonRpcParams.loginParams(this.sessid, agentPosition.name, agentPosition.password));\n    });\n  }\n\n  /**\n   * send a start call request\n   */\n  public startCall(phoneNumber:string, callId:string, channel:Channel):Call {\n    if (!channel.stream) {\n      throw new Error('Error in User Media');\n    }\n\n    // Create Call and its PeerConnection\n    const call = new Call(callId, new RTCPeerConnection({\n      iceServers: [{urls: this.ICE_SERVER}],\n    }));\n\n    call.rtcPeerConnection.ontrack = (tr) => {\n      console.log('tr', tr);\n    };\n\n    call.rtcPeerConnection.onconnectionstatechange = (st) => {\n      console.log(st);\n    };\n\n    // Attach our media stream to the call's PeerConnection\n    channel.stream.getTracks().forEach((track:any) => {\n      call.rtcPeerConnection.addTrack(track);\n    });\n\n    // We wait for candidate to be null to make sure all candidates have been processed\n    call.rtcPeerConnection.onicecandidate = (candidate) => {\n      if (!candidate.candidate) {\n        this.send(JsonRpcParams.startCall(\n          this.sessid,\n          this.getLogin(),\n          phoneNumber,\n          call.rtcPeerConnection.localDescription?.sdp as string)\n        );\n      }\n    };\n\n    call.rtcPeerConnection.createOffer().then(offer => {\n      call.rtcPeerConnection.setLocalDescription(offer).then(() => {});\n    });\n\n    return call;\n  }\n\n}\n","import {JsonRpcRequests} from './json-rpc.requests';\n\nexport enum ZiwoSocketEvent {\n  LoggedIn = 'LoggedIn',\n  CallCreated = 'CallCreated',\n}\n\n/**\n * JsonRpcClient implements Verto protocol using JSON RPC\n *\n * Usage:\n *  - const client = new JsonRpcClient(@debug); // Instantiate a new Json Rpc Client\n *  - client.openSocket(@socketUrl) // REQUIRED: Promise opening the web socket\n *      .then(() => {\n *        this.login() // REQUIRED: log the agent into the web socket\n *        // You can now proceed with any requests\n *      });\n *\n */\nexport class JsonRpcClient extends JsonRpcRequests {\n\n  constructor(debug?:boolean) {\n    super(debug);\n  }\n\n}\n","\nexport const PATTERNS = {\n  phoneNumber: /^\\+?\\d+$/,\n};\n","import {AgentInfo} from '../authentication.service';\nimport {Channel, VideoInfo} from './channel';\nimport {JsonRpcClient} from './json-rpc';\nimport {Call} from './call';\nimport {ZiwoEventType, ZiwoEvent, ErrorCode} from '../events';\nimport {MESSAGES} from '../messages';\n\n/**\n * RtcClientBase handles authentication and holds core properties\n */\nexport class RtcClientBase {\n\n  public connectedAgent?:AgentInfo;\n  public channel?:Channel;\n  public videoInfo?:VideoInfo;\n  public jsonRpcClient?:JsonRpcClient;\n  public currentCall?:Call;\n  public calls:Call[] = [];\n  protected readonly debug:boolean;\n\n  constructor(video?:VideoInfo, debug?:boolean) {\n    this.debug = debug || false;\n    if (video) {\n      this.videoInfo = video;\n    }\n  }\n\n  /**\n   * Get connected Agent returns the Info of the current agent\n   */\n  public getConnectedAgent():AgentInfo|undefined {\n    return this.connectedAgent;\n  }\n\n  /**\n   * Return true if an agent is connected\n   */\n  public isAgentConnected():boolean {\n    return !! this.connectedAgent && !! this.channel;\n  }\n\n  protected sendNotConnectedEvent(action:string):void {\n    return ZiwoEvent.emit(ZiwoEventType.Error, {\n      code: ErrorCode.InvalidPhoneNumber,\n      message: MESSAGES.AGENT_NOT_CONNECTED(action),\n    });\n  }\n\n}\n","import {PATTERNS} from '../regex';\nimport {MESSAGES} from '../messages';\nimport {RtcClientBase} from './rtc-client.base';\nimport {VideoInfo} from './channel';\nimport {ZiwoEventType, ZiwoEvent, ErrorCode} from '../events';\nimport { JsonRpcParams } from './json-rpc.params';\n\nexport class RtcClientRequests extends RtcClientBase {\n\n  constructor(video?:VideoInfo, debug?:boolean) {\n    super(video, debug);\n  }\n\n  public startCall(phoneNumber:string):void {\n    if (!this.isAgentConnected() || !this.channel || !this.jsonRpcClient) {\n      this.sendNotConnectedEvent('start call');\n      return;\n    }\n    if (!PATTERNS.phoneNumber.test(phoneNumber)) {\n      return ZiwoEvent.emit(ZiwoEventType.Error, {\n        code: ErrorCode.InvalidPhoneNumber,\n        message: MESSAGES.INVALID_PHONE_NUMBER(phoneNumber),\n        data: {\n          phoneNumber: phoneNumber,\n        }\n      });\n    }\n    this.channel?.startMicrophone();\n    this.calls.push(this.jsonRpcClient.startCall(phoneNumber, JsonRpcParams.getUuid(), this.channel));\n  }\n\n}\n","import {OutgoingCallPayload, MediaRequestPayload} from './json-rpc.interfaces';\nimport {RtcClientRequests} from './rtc-client.requests';\nimport {VideoInfo} from './channel';\n\nexport class RtcClientHandlers extends RtcClientRequests {\n\n  constructor(video?:VideoInfo, debug?:boolean) {\n    super(video, debug);\n  }\n\n  protected outgoingCall(data:OutgoingCallPayload):void {\n    if (this.currentCall) {\n      return console.warn('Outgoing Call - but there is already a call in progress');\n    }\n  }\n\n  protected acceptMediaRequest(data:MediaRequestPayload):void {\n    console.log(data);\n    this.jsonRpcClient?.send(data);\n  }\n\n}\n","import {AgentInfo} from '../authentication.service';\nimport {UserMedia} from './userMedia';\nimport {ZiwoEvent, ZiwoEventType, ErrorCode} from '../events';\nimport {VideoInfo} from './channel';\nimport {JsonRpcClient} from './json-rpc';\nimport {JsonRpcEvent, JsonRpcEventType,} from './json-rpc.interfaces';\nimport {RtcClientHandlers} from './rtc-client.handlers';\n\nexport interface MediaConstraint {\n  audio:boolean;\n  video:boolean;\n}\n\n/**\n * RtcClient wraps all interaction with WebRTC\n *\n * Inheritance:\n *  - RtcClientBase: shared properties, getter, setters & errors\n *  - RtcRequests: send new request (start call, answer call, ...)\n *  - RtcHandlers: handler incoming message (call received, outgoing call, ...)\n */\nexport class RtcClient extends RtcClientHandlers {\n\n  constructor(video?:VideoInfo, debug?:boolean) {\n    super(video, debug);\n  }\n\n  /**\n   * Connect an agent using its Info\n   */\n  public connectAgent(agent:AgentInfo):Promise<void> {\n    return new Promise<void>((onRes, onErr) => {\n      this.connectedAgent = agent;\n      this.jsonRpcClient = new JsonRpcClient(this.debug);\n      // First we make ensure access to microphone &| camera\n      // And wait for the socket to open\n      Promise.all([\n        UserMedia.getUserMedia({audio: true, video: this.videoInfo ? true : false}),\n        this.jsonRpcClient.openSocket(this.connectedAgent.webRtc.socket),\n      ]).then(res => {\n        this.channel = res[0];\n        this.jsonRpcClient?.addListener((ev:JsonRpcEvent) => {\n          if (ev.type === JsonRpcEventType.LoggedIn) {\n            ZiwoEvent.emit(ZiwoEventType.AgentConnected);\n            onRes();\n            return;\n          }\n          // This is our global handler for incoming message\n          this.processIncomingSocketMessage(ev);\n        });\n        this.jsonRpcClient?.login(agent.position);\n      }).catch(err => {\n        onErr(err);\n      });\n    });\n  }\n\n  private processIncomingSocketMessage(ev:JsonRpcEvent):void {\n    console.log('New incoming message', ev);\n    switch (ev.type) {\n      case JsonRpcEventType.OutgoingCall:\n        this.outgoingCall(ev.payload);\n        break;\n      case JsonRpcEventType.MediaRequest:\n        this.acceptMediaRequest(ev.payload);\n        break;\n    }\n  }\n\n}\n","\nexport interface ApiResult<T> {\n  result:boolean;\n  info:any;\n  content:T;\n}\n\nexport interface AsyncApiResult<T> extends Promise<ApiResult<T>> {}\n\n/**\n * ApiService wraps the axios to provide quick GET, POST, PUT and DELETE\n *\n * Usage:\n *\n *  const apiService = new ApiService('kalvad-poc'); // contact center name you want to connect to\n *  apiService.get<User>(apiService.endpoints.authenticate) ; // ApiService already defined the endpoints available on Ziwo API\n *    .then( (e) => console.log('User > ', e.data)); // Request object is available under `data`;\n */\nexport class ApiService {\n\n  public readonly endpoints:any;\n\n  private token?:string;\n  private readonly baseUrl:string;\n  private readonly contactCenterName:string;\n  private readonly API_PROTOCOL = 'https://';\n  private readonly API_PREFIX = '-api.aswat.co';\n\n  constructor(contactCenterName:string) {\n    this.contactCenterName = contactCenterName;\n    this.baseUrl = `${this.API_PROTOCOL}${contactCenterName}${this.API_PREFIX}`;\n    this.endpoints = {\n      authenticate: `/auth/login`,\n      profile: '/profile',\n    };\n  }\n\n  /**\n   * Return the hostname of current user\n   */\n  public getHostname():string {\n    return `${this.contactCenterName}${this.API_PREFIX}`;\n  }\n\n  /**\n   * Set Authorization token for further requests\n   */\n  public setToken(token:string):void {\n    this.token = token;\n  }\n\n  /**\n   * Execute a GET query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public get<T>(endpoint:string):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'GET');\n  }\n\n  /**\n   * Execute a POST query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public post<T>(endpoint:string, payload:any):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'POST', payload);\n  }\n\n  /**\n   * Execute a PUT query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public put<T>(endpoint:string, payload:any):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'PUT', payload);\n  }\n\n  /**\n   * Execute a DELETE query\n   * @endpoint url endpoint. Base url should not be included\n   */\n  public delete<T>(endpoint:string):AsyncApiResult<T> {\n    return this.query<T>(endpoint, 'DELETE');\n  }\n\n  private query<T>(endpoint:string, method:'GET'|'POST'|'PUT'|'DELETE', payload?:any):Promise<ApiResult<T>> {\n    return new Promise<ApiResult<T>>((onRes, onErr) => {\n      const fetchOptions:any = {\n        method: method,\n      };\n      if (payload) {\n        fetchOptions.body = JSON.stringify(payload);\n      }\n      window.fetch(`${this.baseUrl}${endpoint}`, {\n        method: method,\n        body: payload ? JSON.stringify(payload) : undefined,\n        headers: {\n          'Content-Type': 'application/json',\n          'access_token': `${this.token}`,\n        }\n      }).then(res => {\n        if (!res.ok) {\n          onErr(`Fetch error: ${res.statusText}`);\n          return;\n        }\n        onRes(res.json());\n      }).catch(err => onErr(err));\n    });\n  }\n\n}\n","import {Credentials, AuthenticationService, AgentInfo} from './authentication.service';\nimport {RtcClient} from './rtc/rtc-client';\nimport {ApiService} from './api.service';\nimport {ZiwoEvent, ZiwoEventType} from './events';\nimport {VideoInfo} from './rtc/channel';\n\n/**\n * ziwo-core-front provides a client for real time communication using WebRTC integrated with Ziwo\n */\n\nexport interface ZiwoClientOptions {\n  /**\n   * @contactCenterName is the contact center the agent is working for\n   */\n  contactCenterName:string;\n\n  /**\n   * see `authentication.ts#Credentials` for complete definition\n   * If `credentials` is not provided, please provide an Authentication Token\n   */\n  credentials:Credentials;\n\n  /**\n   * @autoConnect let you choose to connect the agent automatically or not.\n   * Default = true\n   * Error is raised if authentication fails. In case you want to handle failed authentication, run `connect` manually\n   */\n  autoConnect:boolean;\n\n  /**\n   *\n   */\n  video?:VideoInfo;\n\n  debug?:boolean;\n}\n\nexport class ZiwoClient {\n\n  public readonly options:ZiwoClientOptions;\n\n  private apiService:ApiService;\n  private rtcClient:RtcClient;\n\n  constructor(options:ZiwoClientOptions) {\n    this.options = options;\n    this.apiService = new ApiService(options.contactCenterName);\n    this.rtcClient = new RtcClient(options.video, options.debug);\n    if (options.autoConnect) {\n      this.connect().then(r => {\n      }).catch(err => { throw err; });\n    }\n  }\n\n  public connect():Promise<AgentInfo> {\n    return new Promise<any>((onRes, onErr) => {\n      AuthenticationService.authenticate(this.apiService, this.options.credentials)\n        .then(res => {\n          this.rtcClient.connectAgent(res);\n          onRes(res);\n        }).catch(err => onErr(err));\n    });\n  }\n\n  public addListener(func:Function):void {\n    return ZiwoEvent.subscribe(func);\n  }\n\n  public startCall(phoneNumber:string):void {\n    this.rtcClient.startCall(phoneNumber);\n  }\n\n}\n"],"names":[],"mappings":"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AE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YACvF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YACvF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,SAAS,CAAC,CAAC;YAC1F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YACvF,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC5F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,CAAC,GAAG,EAAE,UAAU,CAAC,CAAC;YAC3F,IAAI,CAAC,CAAC,GAAG,IAAI,CAAC,EAAE,CAAC,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC,CAAC,CAAC,IAAI,CAAC,CAAC,GAAG,EAAE,CAAC,EAAE,IAAI,CA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"}